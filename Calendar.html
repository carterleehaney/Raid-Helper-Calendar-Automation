<!DOCTYPE html>
<html>
<head>
<title>Scheduled Events</title>
<style>
body {
  font-family: sans-serif;
  background-color: #f4f4f4;
  color: #333;
}

.container {
  max-width: 960px;
  margin: 20px auto;
  padding: 20px;
  background-color: #fff;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
  border-radius: 8px;
}

.event {
  margin-bottom: 20px;
  padding: 15px;
  border-radius: 8px;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
  overflow: hidden;
}

.event-image {
    max-width: 200px;
    height: auto;
    float: left;
    margin-right: 15px;
    border-radius: 8px;
}

.event-content {
    overflow: hidden;
}

.event-title {
  font-size: 1.2em;
  font-weight: bold;
  margin-bottom: 5px;
}

.event-leader {
  font-style: italic;
  margin-bottom: 10px;
}

.event-description {
  margin-bottom: 10px;
}

.event-time {
  font-size: 0.9em;
  color: #777;
}

.event-signups {
    font-size: 0.9em;
    color: #555;
}

.event[data-color] {
    border-left: 5px solid;
    padding-left: 10px;
}

</style>
</head>
<body>

<div class="container">
  <h1>Scheduled Events</h1>

  <div id="events-container">
    </div>
</div>

<script>
  // Need to automate this later...
  // eventData is the JSON returned from the endpoint
  const eventData = {"pages":1,"eventsOverall":7,"eventsTransmitted":7,"currentPage":1,"postedEvents":[{"color":"183,28,28","description":"Progging Phase 2, once again, did you Know Nael has the wackiest Tells?","title":"2cob Nael Prog","templateId":"25","signUpCount":"8","leaderId":"700907337866805340","lastUpdated":1739978884,"leaderName":"Altair Astraros","imageUrl":"https://raid-helper.dev/uploads/1288597337979228190/3a379ced61f1f9006fe478522a165075.webp","closeTime":1740099600,"startTime":1740099600,"endTime":1740099600,"id":"1341605764325965896","channelId":"1288598385498259519"},{"color":"113,54,138","description":"Trying out the first criterion dungeon for my birthday~","title":"Another Sil'dihn Subterrane (Blind)","templateId":"25","signUpCount":"4","leaderId":"297527975589445643","lastUpdated":1739967268,"leaderName":"Glenn Andrews","imageUrl":"https://cdn.discordapp.com/attachments/1309322145448591363/1341617206777348179/Sild.png?ex=67b6a5e4&is=67b55464&hm=7a86ad052408b65a54a21d19a7a5301caee01f53d4ad686b7f34acd31bf0aa5c&","closeTime":1740171600,"startTime":1740171600,"endTime":1740171600,"id":"1341619279497265172","channelId":"1288598385498259519"},{"color":"255,0,0","description":"Beginners and new raiders welcome!! If we clear it fast we'll do another StB MiNE trial after","title":"Byakko Ex MiNE","templateId":"25","signUpCount":"7","leaderId":"745772510540202068","lastUpdated":1739919638,"leaderName":"Lady HD | Marilith","closeTime":1739919600,"startTime":1739919600,"endTime":1739919600,"id":"1340153955271049367","channelId":"1288598385498259519"},{"color":"171,71,188","description":"","title":"UCOB More Bahamut Prog","templateId":"25","signUpCount":"8","leaderId":"711707974430621787","lastUpdated":1739899199,"leaderName":"Yrcbry Ayzen","closeTime":1740092400,"startTime":1740092400,"endTime":1740092400,"id":"1341458573296795678","channelId":"1288598385498259519"},{"color":"113,54,138","description":"I'm back in the world of the living, after a week of pain and suffering I'm good to go. Tsunami has nothing on us, watch","title":"E3S attempt drei (i think)","templateId":"25","signUpCount":"5","leaderId":"261126871138172939","lastUpdated":1739647948,"leaderName":"Gyodo Tsuwamono","closeTime":1740177000,"startTime":1740177000,"endTime":1740177000,"id":"1340324875201675346","channelId":"1288598385498259519"},{"color":"33,150,243","description":"clowning around at the speed of sound","title":"OMEGA 8 SAVAGE MINE","templateId":"25","signUpCount":"8","leaderId":"783455047698481163","lastUpdated":1739581973,"leaderName":"Dantas Kiryu (Marilith)","imageUrl":"https://i.ytimg.com/vi/tWBnNK8MoR4/maxresdefault.jpg","closeTime":1740006000,"startTime":1740006000,"endTime":1740006000,"id":"1340121741615173682","channelId":"1288598385498259519"},{"color":"255,0,0","description":"Some Phase 1 cleanup and then phase 2 Prog. Also did you know Nael has the wackiest tells?","title":"2Cob","templateId":"25","signUpCount":"6","leaderId":"700907337866805340","lastUpdated":1739926812,"leaderName":"Altair Astraros","closeTime":1739926800,"startTime":1739926800,"endTime":1739926800,"id":"1339798465806467228","channelId":"1288598385498259519"}]};


  const eventsContainer = document.getElementById('events-container');

  eventData.postedEvents.forEach(event => {
    const eventDiv = document.createElement('div');
    eventDiv.classList.add('event');
    eventDiv.setAttribute('data-color', event.color);

    if (event.imageUrl) {
        const image = document.createElement('img');
        image.src = event.imageUrl;
        image.alt = event.title;
        image.classList.add('event-image');
        eventDiv.appendChild(image);
    }

    const contentDiv = document.createElement('div');
    contentDiv.classList.add('event-content');
    eventDiv.appendChild(contentDiv);

    const titleDiv = document.createElement('div');
    titleDiv.classList.add('event-title');
    titleDiv.textContent = event.title;
    contentDiv.appendChild(titleDiv);

    const leaderDiv = document.createElement('div');
    leaderDiv.classList.add('event-leader');
    leaderDiv.textContent = `Leader: ${event.leaderName}`;
    contentDiv.appendChild(leaderDiv);

    const descriptionDiv = document.createElement('div');
    descriptionDiv.classList.add('event-description');
    descriptionDiv.textContent = event.description;
    contentDiv.appendChild(descriptionDiv);

    const startTime = new Date(event.startTime * 1000);
    const endTime = new Date(event.endTime * 1000);
    const timeDiv = document.createElement('div');
    timeDiv.classList.add('event-time');
    timeDiv.textContent = `Start: ${startTime.toLocaleString()}, End: ${endTime.toLocaleString()}`;
    contentDiv.appendChild(timeDiv);

    const signupsDiv = document.createElement('div');
    signupsDiv.classList.add('event-signups');
    signupsDiv.textContent = `Sign-ups: ${event.signUpCount}`;
    contentDiv.appendChild(signupsDiv);

    if (event.color) {
        const rgb = event.color.split(',');
        eventDiv.style.borderColor = `rgb(${rgb[0]}, ${rgb[1]}, ${rgb[2]})`;
    }

    eventsContainer.appendChild(eventDiv);
  });
</script>

</body>
</html>